(()=>{"use strict";const e=e=>{let t=[];return{title:e,todos:t,addTodo:e=>t.push(e)}},t=(e,t,d,n)=>({title:e,description:t,dueDate:d,priority:n});let d=[];const n=document.getElementById("new-project-btn");n.addEventListener("click",(()=>{document.getElementById("project-form").style.display="flex"}));const o=document.getElementById("close-project"),c=()=>{document.getElementById("project-form").style.display="none",document.getElementById("project-title").value=""};o.addEventListener("click",c),document.getElementById("add-project").addEventListener("click",(t=>{t.preventDefault();const n=document.getElementById("project-title"),o=e(n.value);d.push(o),c(),E()}));const a=document.getElementById("close-task"),s=()=>{document.getElementById("task-form").style.display="none",document.getElementById("task-title").value="",document.getElementById("task-description").value="",document.getElementById("task-due-date").value="",document.getElementById("task-priority").value=""};a.addEventListener("click",s),document.getElementById("add-task").addEventListener("click",(e=>{e.preventDefault();const n=document.getElementById("task-title").value,o=document.getElementById("task-description").value,c=document.getElementById("task-due-date").value,a=document.getElementById("task-priority").value,l=t(n,o,c,a),m=document.getElementById("task-form").name;d[m].addTodo(l),s(),E()}));const l=e("Project 1"),m=e("Project 2"),i=t("ToDo 1","Stuff",123,"High"),r=t("ToDo 2","Things",345,"Low"),u=t("ToDo 3","More stuff",890,"Med");l.addTodo(i),m.addTodo(r),m.addTodo(u),d.push(l),d.push(m);const p=document.getElementById("content"),E=()=>{document.querySelectorAll(".card").forEach((e=>p.removeChild(e))),d.forEach(((e,t)=>{const d=document.createElement("div");d.classList.add("card");const o=document.createElement("h1");o.textContent=e.title,d.appendChild(o);const c=document.createElement("div");e.todos.forEach((e=>{const t=document.createElement("div");t.classList.add("task");const d=document.createElement("h3");d.classList.add("task-title"),d.textContent=e.title,t.appendChild(d);const n=document.createElement("p");n.classList.add("task-description"),n.textContent=e.description,t.appendChild(n);const o=document.createElement("p");o.classList.add("task-due-date"),o.textContent=e.dueDate,t.appendChild(o);const a=document.createElement("p");a.classList.add("task-priority"),a.textContent=e.priority,t.appendChild(a),c.appendChild(t)})),d.appendChild(c);const a=document.createElement("button");a.textContent="Add New Task",a.classList.add("taskBtn"),a.setAttribute("name",t),a.addEventListener("click",(e=>{const t=document.getElementById("task-form");t.style.display="flex",t.setAttribute("name",e.target.name)})),d.appendChild(a),p.insertBefore(d,n)}))};E()})();